{"ast":null,"code":"import _objectSpread from \"/Users/rorysmith/codeclan_work/week_13/day_1/all_pirates_start_point/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/rorysmith/codeclan_work/week_13/day_1/all_pirates_start_point/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/rorysmith/codeclan_work/week_13/day_1/all_pirates_start_point/src/components/pirates/PirateForm.js\";\n\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\n\nvar PirateForm = function PirateForm(_ref) {\n  var pirate = _ref.pirate,\n      ships = _ref.ships,\n      onCreate = _ref.onCreate;\n\n  var _useState = useState({\n    firstName: \"\",\n    lastName: \"\",\n    age: 0,\n    ship: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      statePirate = _useState2[0],\n      setStatePirate = _useState2[1];\n\n  useEffect(function () {\n    if (pirate) {\n      var copiedPirate = _objectSpread({}, pirate);\n\n      setStatePirate(copiedPirate);\n    }\n  }, [pirate]);\n\n  var findShipIndex = function findShipIndex() {\n    if (pirate) {\n      return ships.findIndex(function (ship) {\n        return pirate.ship.id === ship.id;\n      });\n    } else {\n      return null;\n    }\n  };\n\n  var heading = \"\";\n\n  if (!pirate) {\n    heading = \"Create Pirate\";\n  } else {\n    heading = \"Edit \" + pirate.firstName;\n  }\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    onCreate(statePirate);\n  };\n\n  var handleChange = function handleChange(event) {\n    var propertyName = event.target.name;\n\n    var copiedPirate = _objectSpread({}, statePirate);\n\n    copiedPirate[propertyName] = event.target.value;\n    setStatePirate(copiedPirate);\n  };\n\n  var handleShip = function handleShip(event) {\n    var index = parseInt(event.target.value);\n    var selectedShip = ships[index];\n\n    var copiedPirate = _objectSpread({}, statePirate);\n\n    copiedPirate[\"ship\"] = selectedShip;\n    setStatePirate(copiedPirate);\n  };\n\n  var shipOptions = ships.map(function (ship, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }\n    }, ship.name);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, heading), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    tyoe: \"text\",\n    placeholder: \"First Name\",\n    name: \"firstName\",\n    onChange: handleChange,\n    value: statePirate.firstName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    tyoe: \"text\",\n    placeholder: \"Last Name\",\n    name: \"lastName\",\n    onChange: handleChange,\n    value: statePirate.lastName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"Age\",\n    name: \"age\",\n    onChange: handleChange,\n    value: statePirate.age,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"ship\",\n    onChange: handleShip,\n    defaultValue: findShipIndex() || \"select-ship\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    value: \"select-ship\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Select a ship\"), shipOptions), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Save\")));\n};\n\nexport default PirateForm;","map":{"version":3,"sources":["/Users/rorysmith/codeclan_work/week_13/day_1/all_pirates_start_point/src/components/pirates/PirateForm.js"],"names":["React","useEffect","useState","PirateForm","pirate","ships","onCreate","firstName","lastName","age","ship","statePirate","setStatePirate","copiedPirate","findShipIndex","findIndex","id","heading","handleSubmit","event","preventDefault","handleChange","propertyName","target","name","value","handleShip","index","parseInt","selectedShip","shipOptions","map"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\n\nconst PirateForm = ({pirate, ships, onCreate}) => {\n\n    const [statePirate, setStatePirate] = useState({\n        firstName: \"\",\n        lastName: \"\",\n        age: 0,\n        ship: null\n    })\n\n    useEffect(() => {\n        if(pirate){\n            let copiedPirate = {...pirate}\n            setStatePirate(copiedPirate)\n        }\n    }, [pirate])\n\n    const findShipIndex = () => {\n        if(pirate){\n            return ships.findIndex((ship) => {\n                return pirate.ship.id === ship.id\n            })\n        }else{\n            return null;\n        }\n    }\n\n    let heading = \"\";\n    if (!pirate){\n        heading = \"Create Pirate\"\n    } else{\n        heading = \"Edit \" + pirate.firstName;\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onCreate(statePirate);\n    }\n\n    const handleChange = (event) => {\n        let propertyName = event.target.name;\n        let copiedPirate = {...statePirate};\n        copiedPirate[propertyName] = event.target.value;\n        setStatePirate(copiedPirate)\n    }\n\n    const handleShip = (event) => {\n        const index = parseInt(event.target.value);\n        const selectedShip = ships[index];\n        let copiedPirate = {...statePirate};\n        copiedPirate[\"ship\"] = selectedShip;\n        setStatePirate(copiedPirate);\n    }\n\n    const shipOptions = ships.map((ship, index) => {\n        return <option key={index} value={index}>{ship.name}</option>\n    })\n\n    return(\n        <>\n            <h3>{heading}</h3>\n            <form onSubmit ={handleSubmit}>\n                <input tyoe =\"text\" placeholder=\"First Name\" name=\"firstName\" onChange={handleChange} value={statePirate.firstName}/>\n                <input tyoe =\"text\" placeholder=\"Last Name\" name=\"lastName\" onChange={handleChange} value={statePirate.lastName}/>\n                <input type=\"number\" placeholder=\"Age\" name=\"age\" onChange={handleChange} value={statePirate.age}/>\n                <select name=\"ship\" onChange={handleShip} defaultValue ={findShipIndex() || \"select-ship\"}>\n                <option disabled value=\"select-ship\">Select a ship</option>\n                {shipOptions}\n                </select>\n                <button type=\"submit\">Save</button>\n\n            </form>\n        </>\n    )\n\n}\n\nexport default PirateForm;"]},"metadata":{},"sourceType":"module"}